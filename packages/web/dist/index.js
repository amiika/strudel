"use strict";var P=Object.create;var d=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var j=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty;var g=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of m(t))!S.call(e,i)&&i!==r&&d(e,i,{get:()=>t[i],enumerable:!(s=w(t,i))||s.enumerable});return e};var o=(e,t,r)=>(r=e!=null?P(j(e)):{},g(t||!e||!e.__esModule?d(r,"default",{value:e,enumerable:!0}):r,e));Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("@strudel.cycles/core"),a=require("@strudel.cycles/webaudio"),l=require("@strudel.cycles/transpiler"),c=require("@strudel.cycles/mini"),f=require("@strudel.cycles/tonal");async function p(){const e=n.evalScope(n.evalScope,n.controls,import("@strudel.cycles/core"),import("@strudel.cycles/mini"),import("@strudel.cycles/tonal"),import("@strudel.cycles/webaudio"),{hush:b,evaluate:O});await Promise.all([e,a.registerSynthSounds()])}let y,u;function h(e={}){a.initAudioOnFirstClick(),c.miniAllStrings();const{prebake:t,...r}=e;y=(async()=>{await p(),await t?.()})(),u=a.webaudioScheduler(r)}window.initStrudel=h;n.Pattern.prototype.play=function(){if(!u)throw new Error(".play: no scheduler found. Have you called init?");return y.then(()=>{u.setPattern(this,!0)}),this};function b(){u.stop()}async function O(e,t=!0){const{pattern:r}=await l.evaluate(e);t&&r.play()}exports.defaultPrebake=p;exports.evaluate=O;exports.hush=b;exports.initStrudel=h;Object.keys(n).forEach(e=>{e!=="default"&&!exports.hasOwnProperty(e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>n[e]})});Object.keys(a).forEach(e=>{e!=="default"&&!exports.hasOwnProperty(e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>a[e]})});Object.keys(l).forEach(e=>{e!=="default"&&!exports.hasOwnProperty(e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>l[e]})});Object.keys(c).forEach(e=>{e!=="default"&&!exports.hasOwnProperty(e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>c[e]})});Object.keys(f).forEach(e=>{e!=="default"&&!exports.hasOwnProperty(e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>f[e]})});
